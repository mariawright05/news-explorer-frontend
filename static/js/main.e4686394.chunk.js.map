{"version":3,"sources":["images/logout-white.svg","context/auth/authContext.js","utils/useForm.js","components/LoginPopup/validateLogin.js","components/LoginPopup/LoginPopup.js","components/RegisterPopup/validateRegister.js","components/RegisterPopup/RegisterPopup.js","components/SuccessPopup/SuccessPopup.js","context/page/PageContext.js","images/logout-dark.svg","components/Header/Header.js","context/news/newsContext.js","components/Search/validateSearch.js","components/Search/Search.js","components/Preloader/Preloader.js","components/NothingFound/NothingFound.js","components/CardList/CardList.js","images/maria-wright.png","components/Author/Author.js","components/Main/Main.js","components/UserInfo/UserInfo.js","components/SavedNews/SavedNews.js","components/Footer/Footer.js","components/Card/Card.js","context/types.js","context/news/newsReducer.js","context/news/NewsApi.js","context/news/NewsState.js","context/auth/authReducer.js","context/auth/AuthApi.js","context/auth/AuthState.js","utils/ProtectedRoute.js","components/App/App.js","index.js"],"names":["_path","authContext","createContext","useForm","callback","validate","useState","values","setValues","errors","setErrors","isSubmitting","setIsSubmitting","useEffect","Object","keys","length","onSubmit","e","preventDefault","onChange","target","name","value","email","test","password","LoginPopup","useContext","AuthContext","handleLogin","isLoginOpen","handleRegisterOpen","closeAllPopups","errorMsg","className","type","aria-label","onClick","action","noValidate","htmlFor","id","label","placeholder","required","disabled","RegisterPopup","handleRegister","user","isAuth","isRegisterOpen","handleLoginOpen","handleSuccessOpen","SuccessPopup","isSuccessOpen","PageContext","page","_extends","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogoutWhite","_ref","svgRef","title","titleId","props","width","height","fill","ref","fillRule","clipRule","d","ForwardRef","SvgLogoutDark","Header","handleLogout","handleLoadUser","isSidebarOpen","setIsSidebarOpen","linkColor","authLinks","to","exact","activeClassName","guestLinks","navLinks","setNavLinks","token","localStorage","getItem","githubContext","query","Search","newsContext","NewsContext","handleSearchNews","setQuery","searchTerm","Preloader","NothingFound","searchError","CardList","loading","cards","notFound","searchedList","savedList","savedCards","Author","src","Image","alt","Main","jwt","removeItem","Provider","UserInfo","items","filteredArr","map","a","keyword","filter","undefined","sortedArr","arr","frequencyMap","reduce","obj","item","entries","sort","b","flatMap","Array","sortByFrequency","reducedKeywords","Set","fullList","join","shortList","slice","SavedNews","handleSavedCards","Footer","href","rel","Card","iconHoverMessage","card","_id","url","urlToImage","publishedAt","description","handleUpdateSave","iconHoverShown","setIconHoverShown","cardButtonType","p","onMouseEnter","onMouseLeave","Date","toLocaleDateString","month","day","year","SEARCHED_NEWS","SET_SAVED","SET_LOADING","SEARCH_ERROR","NOT_FOUND","SET_QUERY","SET_NOT_SAVED","REGISTER_FAIL","USER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","CLEAR_ERRORS","SAVED_CARDS","CLEAR_NEWS","state","setItem","JSON","stringify","payload","visibleList","LIMIT","charAt","toUpperCase","newCard","text","date","image","searchNews","today","lastWeek","now","ISOToday","toISOString","ISOLastWeek","fetch","SEARCH_URL","API_KEY","res","ok","json","then","err","Error","data","updateSave","method","body","AUTH_URL","headers","getSavedCards","NewsState","useReducer","NewsReducer","dispatch","setLoading","showMore","setShowMore","list","setList","index","setIndex","loadMore","newIndex","newShowMore","Math","min","ARRAY_LENGTH","newList","concat","uuidv4","articles","toString","searchedNews","parse","console","log","children","loadUser","PromiseRejectionEvent","reject","login","register","AuthState","AuthReducer","setIsLoginOpen","setIsRegisterOpen","setIsSuccessOpen","formData","catch","handleClearErrors","ProtectedRoute","Component","component","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4686394.chunk.js","sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoutWhite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M10 6H6v12h4v2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h4v2zm7.59 7l-4.3 4.13 1.42 1.37 6.7-6.46-6.7-6.46-1.42 1.36 4.3 4.13H8V13h9.59z\",\n    fill: \"#fff\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoutWhite);\nexport default __webpack_public_path__ + \"static/media/logout-white.2e18a021.svg\";\nexport { ForwardRef as ReactComponent };","import { createContext } from 'react';\n\nconst authContext = createContext();\n\nexport default authContext;\n","/* eslint-disable no-shadow */\nimport { useState, useEffect } from 'react';\n\nconst useForm = (callback, validate) => {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    // Check to see if there are no errors then call callback\n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      callback();\n      setIsSubmitting(false);\n    }\n  }, [errors]);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    setErrors(validate(values));\n    setIsSubmitting(true);\n  };\n\n  const onChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n    setErrors(validate(values));\n  };\n\n  return {\n    onSubmit,\n    onChange,\n    values,\n    errors,\n  };\n};\n\nexport default useForm;\n","const validate = (values) => {\n  const errors = {};\n  if (!values.email) {\n    errors.email = 'Email address is required';\n  } else if (!/\\S+@\\S+\\.\\S+/.test(values.email)) {\n    errors.email = 'Enter a valid email address';\n  }\n  if (!values.password) {\n    errors.password = 'Password is required';\n  } else if (values.password.length < 5) {\n    errors.password = 'Password needs to be at least 6 characters';\n  }\n  return errors;\n};\n\nexport default validate;\n","/* eslint-disable no-use-before-define */\n/* eslint-disable arrow-body-style */\nimport React, { useContext } from 'react';\nimport AuthContext from '../../context/auth/authContext';\nimport './LoginPopup.css';\nimport useForm from '../../utils/useForm';\nimport validate from './validateLogin';\n\nconst LoginPopup = () => {\n  const authContext = useContext(AuthContext);\n  const {\n    handleLogin,\n    isLoginOpen,\n    handleRegisterOpen,\n    closeAllPopups,\n    errorMsg,\n  } = authContext;\n\n  const loginCallback = () => handleLogin(values);\n\n  const {\n    values,\n    onChange,\n    onSubmit,\n    errors,\n  } = useForm(loginCallback, validate);\n\n  const openRegister = () => {\n    closeAllPopups();\n    handleRegisterOpen();\n  };\n\n  return (\n    <div className={`loginPopup ${isLoginOpen ? 'loginPopup_opened' : ''}`}>\n      <div className=\"loginPopup__container\">\n        <button\n          type=\"button\"\n          className=\"loginPopup__close-button\"\n          aria-label=\"close loginPopup\"\n          onClick={closeAllPopups}\n        />\n        <form action=\"submit\" onSubmit={onSubmit} className=\"loginPopup__form\" noValidate>\n          <h3 className=\"loginPopup__heading\">Sign in</h3>\n          <fieldset className=\"loginPopup__form-group\">\n            <div className=\"loginPopup__field-group\">\n              Email\n              <label htmlFor=\"email\" className=\"loginPopup__form-label\">\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  name=\"email\"\n                  className={`loginPopup__form-field ${errors.email && 'loginPopup__error'}`}\n                  label=\"Email\"\n                  placeholder=\"Enter email\"\n                  value={values.email || ''}\n                  required\n                  onChange={onChange}\n                />\n                {errors.email && <p className=\"loginPopup__error_visible\">{errors.email}</p>}\n              </label>\n            </div>\n            <div className=\"loginPopup__field-group\">\n              <label htmlFor=\"password\" className=\"loginPopup__form-label\">\n                Password\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  name=\"password\"\n                  className={`loginPopup__form-field ${errors.password && 'loginPopup__error'}`}\n                  placeholder=\"Enter password\"\n                  value={values.password || ''}\n                  required\n                  onChange={onChange}\n                />\n                {errors.password && <p className=\"loginPopup__error_visible\">{errors.password}</p>}\n              </label>\n            </div>\n          </fieldset>\n          {errorMsg && <p className=\"loginPopup__errorMsg_visible\">{errorMsg}</p>}\n          <input type=\"submit\" disabled={Object.keys(errors).length !== 0} className=\"loginPopup__button\" value=\"Sign in\" />\n          <button type=\"button\" className=\"loginPopup__message_link\" onClick={openRegister}>\n            <span className=\"loginPopup__message\">or </span>\n            Sign up\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPopup;\n","const validate = (values) => {\n  const errors = {};\n  if (!values.email) {\n    errors.email = 'Email address is required';\n  } else if (!/\\S+@\\S+\\.\\S+/.test(values.email)) {\n    errors.email = 'Enter a valid email address';\n  }\n  if (!values.password) {\n    errors.password = 'Password is required';\n  } else if (values.password.length < 5) {\n    errors.password = 'Password needs to be at least 6 characters';\n  }\n  if (!values.name) {\n    errors.name = 'name is required';\n  } else if (values.name.length < 2) {\n    errors.name = 'name needs to be at least 3 characters';\n  }\n  return errors;\n};\n\nexport default validate;\n","/* eslint-disable no-use-before-define */\n/* eslint-disable arrow-body-style */\nimport React, { useContext, useEffect } from 'react';\nimport AuthContext from '../../context/auth/authContext';\nimport './RegisterPopup.css';\nimport useForm from '../../utils/useForm';\nimport validate from './validateRegister';\n\nconst RegisterPopup = () => {\n  const authContext = useContext(AuthContext);\n  const {\n    handleRegister,\n    user,\n    isAuth,\n    errorMsg,\n    isRegisterOpen,\n    handleLoginOpen,\n    handleSuccessOpen,\n    closeAllPopups,\n  } = authContext;\n\n  // Calls handleRegister API function from authContext\n  // Used in useForm hook\n  const registerCallback = () => handleRegister(values);\n\n  const {\n    values,\n    onChange,\n    onSubmit,\n    errors,\n  } = useForm(registerCallback, validate);\n\n  const openLogin = () => {\n    closeAllPopups();\n    handleLoginOpen();\n  };\n\n  const openSuccess = () => {\n    closeAllPopups();\n    handleSuccessOpen();\n  };\n\n  useEffect(() => {\n    if (user && isAuth) {\n      openSuccess();\n    }\n  }, []);\n\n  return (\n    <div className={`registerPopup ${isRegisterOpen ? 'registerPopup_opened' : ''}`}>\n      <div className=\"registerPopup__container\">\n        <button\n          type=\"button\"\n          className=\"registerPopup__close-button\"\n          aria-label=\"close registerPopup\"\n          onClick={closeAllPopups}\n        />\n        <form action=\"submit\" onSubmit={onSubmit} className=\"registerPopup__form\">\n          <h3 className=\"registerPopup__heading\">Sign up</h3>\n          <fieldset className=\"registerPopup__form-group\">\n            <div className=\"registerPopup__field-group\">\n              Email\n              <label htmlFor=\"email\" className=\"registerPopup__form-label\">\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  name=\"email\"\n                  className={`registerPopup__form-field ${errors.email && 'registerPopup__error'}`}\n                  label=\"Email\"\n                  placeholder=\"Enter email\"\n                  value={values.email || ''}\n                  required\n                  onChange={onChange}\n                />\n                {errors.email && <p className=\"registerPopup__error_visible\">{errors.email}</p>}\n              </label>\n            </div>\n            <div className=\"registerPopup__field-group\">\n              Password\n              <label htmlFor=\"password\" className=\"registerPopup__form-label\">\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  name=\"password\"\n                  className={`registerPopup__form-field ${errors.password && 'registerPopup__error'}`}\n                  placeholder=\"Enter password\"\n                  value={values.password || ''}\n                  required\n                  onChange={onChange}\n                />\n                {errors.password && <p className=\"registerPopup__error_visible\">{errors.password}</p>}\n              </label>\n            </div>\n            <div className=\"registerPopup__field-group\">\n              Name\n              <label htmlFor=\"name\" className=\"registerPopup__form-label\">\n                <input\n                  id=\"name\"\n                  type=\"text\"\n                  name=\"name\"\n                  className={`registerPopup__form-field ${errors.name && 'registerPopup__error'}`}\n                  placeholder=\"Enter your name\"\n                  value={values.name || ''}\n                  required\n                  onChange={onChange}\n                />\n                {errors.name && <p className=\"registerPopup__error_visible\">{errors.name}</p>}\n              </label>\n            </div>\n          </fieldset>\n          {errorMsg && <p className=\"registerPopup__errorMsg_visible\">{errorMsg}</p>}\n          <input type=\"submit\" disabled={Object.keys(errors).length !== 0} className=\"registerPopup__button\" value=\"Sign up\" onClick={onSubmit} />\n          <button type=\"button\" className=\"registerPopup__message_link\" onClick={openLogin}>\n            <span className=\"registerPopup__message\">or </span>\n            Sign in\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default RegisterPopup;\n","import React, { useContext } from 'react';\nimport AuthContext from '../../context/auth/authContext';\nimport './SuccessPopup.css';\n\nconst SuccessPopup = () => {\n  const authContext = useContext(AuthContext);\n  const {\n    isSuccessOpen,\n    handleLoginOpen,\n    closeAllPopups,\n  } = authContext;\n\n  const openLogin = () => {\n    closeAllPopups();\n    handleLoginOpen();\n  };\n\n  return (\n    <div className={`successPopup ${isSuccessOpen ? 'successPopup_opened' : ''}`}>\n      <div className=\"successPopup__container\">\n        <button\n          type=\"button\"\n          className=\"successPopup__close-button\"\n          aria-label=\"close successPopup\"\n          onClick={closeAllPopups}\n        />\n        <div className=\"successPopup__form\">\n          <h3 className=\"successPopup__heading\">Registration successfully completed!</h3>\n          <button type=\"button\" className=\"successPopup__message_link left-justified\" onClick={openLogin}>\n            Sign in\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SuccessPopup;\n","import { createContext } from 'react';\n\nconst PageContext = createContext({\n  page: '',\n});\n\nexport default PageContext;\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoutDark(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M10 6H6v12h4v2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h4v2zm7.59 7l-4.3 4.13 1.42 1.37 6.7-6.46-6.7-6.46-1.42 1.36 4.3 4.13H8V13h9.59z\",\n    fill: \"#1A1B22\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoutDark);\nexport default __webpack_public_path__ + \"static/media/logout-dark.c2dbc181.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable no-nested-ternary */\n/* eslint-disable no-unused-vars */\nimport React, { useContext, useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport LoginPopup from '../LoginPopup/LoginPopup';\nimport RegisterPopup from '../RegisterPopup/RegisterPopup';\nimport SuccessPopup from '../SuccessPopup/SuccessPopup';\nimport PageContext from '../../context/page/PageContext';\nimport AuthContext from '../../context/auth/authContext';\nimport './Header.css';\nimport { ReactComponent as LogoutIcon } from '../../images/logout-white.svg';\nimport { ReactComponent as LogoutIconAlt } from '../../images/logout-dark.svg';\n\nconst Header = () => {\n  const page = useContext(PageContext);\n  const authContext = useContext(AuthContext);\n  const {\n    user,\n    handleLoginOpen,\n    isLoginOpen,\n    isRegisterOpen,\n    isSuccessOpen,\n    isAuth,\n    handleLogout,\n    handleLoadUser,\n  } = authContext;\n\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  const handleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n\n  const linkColor = () => {\n    if (page === 'saved-news' && !isSidebarOpen) {\n      return 'header__color_alt';\n    }\n    return '';\n  };\n\n  const authLinks = (\n    <>\n      <li className={`header__nav-link-container ${linkColor()}`}>\n        <NavLink\n          to=\"/\"\n          className={`header__nav-link ${linkColor()}`}\n          exact\n          activeClassName=\"header__nav-link_active\"\n        >\n          Home\n        </NavLink>\n      </li>\n      <li className={`header__nav-link-container ${linkColor()}`}>\n        <NavLink\n          to=\"/saved-news\"\n          className={`header__nav-link ${linkColor()}`}\n          activeClassName=\"header__nav-link_alt_active\"\n        >\n          Saved articles\n        </NavLink>\n      </li>\n      <button\n        type=\"button\"\n        className={`header__nav-button ${linkColor()}`}\n        onClick={handleLogout}\n      >\n        {user.name}\n        {\n          page === 'saved-news' && !isSidebarOpen ? (\n            <LogoutIconAlt className=\"header__icon_logout\" />\n          ) : (\n            <LogoutIcon className=\"header__icon_logout\" />\n          )\n        }\n      </button>\n    </>\n  );\n\n  const guestLinks = (\n    <>\n      <li className=\"header__nav-link-container\">\n        <NavLink\n          to=\"/\"\n          className={`header__nav-link ${linkColor()}`}\n          activeClassName=\"header__nav-link_active\"\n        >\n          Home\n        </NavLink>\n      </li>\n      <button\n        type=\"button\"\n        className={`header__nav-button signin ${linkColor()}`}\n        onClick={handleLoginOpen}\n      >\n        Sign in\n      </button>\n      {isLoginOpen && <LoginPopup />}\n      {isRegisterOpen && <RegisterPopup />}\n      {isSuccessOpen && <SuccessPopup />}\n    </>\n  );\n\n  const [navLinks, setNavLinks] = useState(guestLinks);\n\n  const handleNavLinks = () => {\n    setNavLinks(isAuth ? authLinks : guestLinks);\n  };\n\n  useEffect(() => {\n    handleNavLinks();\n  }, [isAuth, isRegisterOpen, isLoginOpen, isSuccessOpen, isSidebarOpen]);\n\n  const token = localStorage.getItem('jwt');\n  useEffect(() => {\n    if (token) {\n      handleLoadUser();\n    }\n  }, []);\n\n  return (\n    <div className=\"header\">\n      <div className=\"header__contents\">\n        <h1 className={\n          `header__title ${page === 'saved-news' ? 'header__color_alt' : ''}`\n        }\n        >\n          NewsExplorer\n        </h1>\n        <ul className=\"header__nav-container\">\n          {navLinks}\n        </ul>\n        <button\n          type=\"button\"\n          className={`header__sidebar-button \n            ${isSidebarOpen\n            ? ((page === 'saved-news')\n              ? 'header__sidebar_closed-alt'\n              : 'header__sidebar_closed')\n            : (page === 'saved-news')\n              ? 'header__sidebar_open-alt'\n              : 'header__sidebar_open'}`}\n          aria-label=\"open or close sidebar\"\n          onClick={handleSidebar}\n        />\n      </div>\n      <div className={`header__sidebar ${isSidebarOpen ? 'header__sidebar_opened' : ''}`}>\n        <ul className=\"header__sidebar-container\">\n          {navLinks}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import { createContext } from 'react';\n\nconst githubContext = createContext();\n\nexport default githubContext;\n","const validate = (values) => {\n  const errors = {};\n  if (!values.query) {\n    errors.query = 'Please enter a topic';\n  }\n  return errors;\n};\n\nexport default validate;\n","/* eslint-disable no-use-before-define */\nimport React, { useContext, useEffect } from 'react';\nimport Header from '../Header/Header';\nimport NewsContext from '../../context/news/newsContext';\nimport AuthContext from '../../context/auth/authContext';\nimport useForm from '../../utils/useForm';\nimport validate from './validateSearch';\n\nimport './Search.css';\n\nconst Search = () => {\n  const newsContext = useContext(NewsContext);\n  const { handleSearchNews, setQuery } = newsContext;\n\n  const authContext = useContext(AuthContext);\n  const { isAuth } = authContext;\n\n  const searchCallback = () => {\n    handleSearchNews(values.query);\n    setQuery(values.query);\n  };\n\n  const {\n    values,\n    onChange,\n    onSubmit,\n    errors,\n  } = useForm(searchCallback, validate);\n\n  const searchTerm = localStorage.getItem('searchTerm');\n\n  useEffect(() => {\n    if (searchTerm && isAuth) {\n      values.query = searchTerm;\n    } else {\n      values.query = '';\n    }\n  }, [isAuth]);\n\n  return (\n    <div className=\"search\">\n      <Header />\n      <div className=\"search__container\">\n        <h2 className=\"search__title\">What&apos;s going on in the world?</h2>\n        <p className=\"search__subtitle\">Find the latest news on any topic and save them in your personal account.</p>\n        <form className=\"search__input-wrapper\" onSubmit={onSubmit}>\n          <input\n            type=\"text\"\n            name=\"query\"\n            className=\"search__input\"\n            placeholder=\"Enter topic\"\n            value={values.query || ''}\n            onChange={onChange}\n          />\n          {errors.query && <p className=\"search__error\">{errors.query}</p> }\n          <input\n            type=\"submit\"\n            value=\"Search\"\n            className=\"search__button\"\n          />\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n","import React from 'react';\nimport './Preloader.css';\n\nconst Preloader = () => {\n  return (\n    <div className=\"preloader\">\n      <i className=\"preloader__circle\" />\n      <p className=\"preloader__text\">Searching for news...</p>\n    </div>\n  );\n};\n\nexport default Preloader;\n","import React, { useContext } from 'react';\nimport NewsContext from '../../context/news/newsContext';\nimport './NothingFound.css';\n\nconst NothingFound = () => {\n  const newsContext = useContext(NewsContext);\n  const {\n    searchError,\n  } = newsContext;\n  return (\n    <section className=\"nothingFound\">\n      <i className=\"nothingFound__circle\" />\n      <p className=\"nothingFound__title\">{searchError ? 'Server Error' : 'Nothing found'}</p>\n      <p className=\"nothingFound__text\">\n        {searchError\n          ? 'Sorry, something went wrong during the request. There may be a connection issue or the server may be down. Please try again later.'\n          : 'Sorry, but nothing matched your search terms.'}\n      </p>\n    </section>\n  );\n};\n\nexport default NothingFound;\n","import React, { useContext } from 'react';\nimport './CardList.css';\nimport Preloader from '../Preloader/Preloader';\nimport NothingFound from '../NothingFound/NothingFound';\nimport NewsContext from '../../context/news/newsContext';\nimport PageContext from '../../context/page/PageContext';\n\nconst CardList = () => {\n  const newsContext = useContext(NewsContext);\n  const page = useContext(PageContext);\n\n  const {\n    loading,\n    cards,\n    searchError,\n    notFound,\n    searchedList,\n    savedList,\n    savedCards,\n  } = newsContext;\n\n  // Preloader | Not Found | Search Error block\n  if (loading) {\n    return <Preloader />;\n  }\n\n  if (notFound || searchError) {\n    return <NothingFound />;\n  }\n\n  return (\n    <div className={(cards.length !== 0 && page === 'home') || (savedCards.length !== 0 && page === 'saved-news') ? 'cardList' : 'cardList_hidden'}>\n      <div className=\"cardList__section-wrapper\">\n        {page === 'home' ? searchedList : savedList}\n      </div>\n    </div>\n  );\n};\n\nexport default CardList;\n","export default __webpack_public_path__ + \"static/media/maria-wright.ae02857e.png\";","import React from 'react';\nimport './Author.css';\nimport Image from '../../images/maria-wright.png';\n\nconst Author = () => {\n  return (\n    <div className=\"author\">\n      <div className=\"author__image-container\">\n        <img\n          className=\"author__image\"\n          src={Image}\n          alt=\"Maria Wright\"\n        />\n      </div>\n      <div className=\"author__text-container\">\n        <h2 className=\"author__title\">About the author</h2>\n        <p className=\"author__body\">I have been creating websites for clients for many years, but found myself loving the technical parts of web development more than the design.</p>\n        <p className=\"author__body\">After completing Practicum&apos;s Web Developer program, I am excited about bringing my new skills to clients.</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Author;\n","import React, { useContext, useEffect } from 'react';\nimport './Main.css';\nimport Search from '../Search/Search';\nimport CardList from '../CardList/CardList';\nimport Author from '../Author/Author';\nimport PageContext from '../../context/page/PageContext';\nimport AuthContext from '../../context/auth/authContext';\n\nconst Main = () => {\n  const authContext = useContext(AuthContext);\n  const { handleLoadUser } = authContext;\n\n  const jwt = localStorage.getItem('jwt');\n  useEffect(() => {\n    if (jwt) {\n      handleLoadUser();\n    } else {\n      localStorage.removeItem('searchTerm');\n      localStorage.removeItem('searchedNews');\n    }\n  }, []);\n\n  return (\n    <>\n      <PageContext.Provider value=\"home\">\n        <Search />\n        <CardList />\n        <Author />\n      </PageContext.Provider>\n    </>\n  );\n};\n\nexport default Main;\n","/* eslint-disable no-shadow */\n/* eslint-disable no-param-reassign */\nimport React, { useContext } from 'react';\nimport NewsContext from '../../context/news/newsContext';\nimport AuthContext from '../../context/auth/authContext';\nimport './UserInfo.css';\n\nconst UserInfo = () => {\n  const newsContext = useContext(NewsContext);\n  const { savedCards } = newsContext;\n\n  const authContext = useContext(AuthContext);\n  const { user } = authContext;\n\n  // Extracts keywords from objects in saved cards array\n  const extractArr = savedCards.map((a) => { return a.keyword; });\n\n  // Takes out undefined values from array\n  const filteredArr = extractArr.filter((keyword) => {\n    return keyword !== undefined;\n  });\n\n  // Sorts keywords by decending frequency, including duplicates\n  const sortByFrequency = (arr) => {\n    const frequencyMap = arr.reduce((obj, item) => {\n      obj[item] = (obj[item] || 0) + 1;\n      return obj;\n    }, {});\n\n    return Object.entries(frequencyMap)\n      .sort((a, b) => { return b[1] - a[1]; })\n      .flatMap((arr) => { return Array(arr[1]).fill(arr[0]); });\n  };\n\n  const sortedArr = sortByFrequency(filteredArr);\n  // Takes duplicate keywords out of array\n  const reducedKeywords = [...new Set(sortedArr)];\n  // Makes string of list of up to 3 keywords\n  const fullList = reducedKeywords.join(', ');\n  // Makes string of 1st and 2nd most frequent keywords\n  // and states total keywords left\n  const shortList = `${reducedKeywords\n    .slice(0, 2)\n    .join(', ')}, and ${reducedKeywords.length - 2} more`;\n  // Makes final list to display\n  const makeList = (items) => {\n    if (items.length < 4) {\n      return fullList;\n    }\n    return shortList;\n  };\n\n  const numArticles = () => {\n    return filteredArr.length === 1\n      ? `${user.name}, you have 1 saved article`\n      : `${user.name}, you have ${filteredArr.length} saved articles`;\n  };\n\n  return (\n    <div className=\"userInfo\">\n      <div className=\"userInfo__container\">\n        <h1 className=\"userInfo__title\">Saved articles</h1>\n        <p className=\"userInfo__stats\">{numArticles()}</p>\n        <p className=\"userInfo__keywords\">\n          By keywords:\n          <span className=\"userInfo__keywords_strong\">\n            &nbsp;\n            {makeList(reducedKeywords)}\n          </span>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default UserInfo;\n","import React, { useEffect, useContext } from 'react';\nimport './SavedNews.css';\nimport Header from '../Header/Header';\nimport CardList from '../CardList/CardList';\nimport UserInfo from '../UserInfo/UserInfo';\nimport PageContext from '../../context/page/PageContext';\nimport NewsContext from '../../context/news/newsContext';\n\nconst SavedNews = () => {\n  const newsContext = useContext(NewsContext);\n  const { handleSavedCards } = newsContext;\n\n  const token = localStorage.getItem('jwt');\n  useEffect(() => {\n    if (token) {\n      handleSavedCards(token);\n    }\n  }, []);\n\n  return (\n    <>\n      <PageContext.Provider value=\"saved-news\">\n        <Header />\n        <UserInfo />\n        <CardList />\n      </PageContext.Provider>\n    </>\n  );\n};\n\nexport default SavedNews;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FaGithub, FaLinkedin } from 'react-icons/fa';\nimport './Footer.css';\n\nconst Footer = () => {\n  return (\n    <div className=\"footer\">\n      <p className=\"footer__copyright\">&#169; 2021 Maria Wright, Powered by News API</p>\n      <ul className=\"footer__nav\">\n        <li className=\"footer__nav-text-wrapper\">\n          <ul className=\"footer__nav-text-list\">\n            <li className=\"footer__nav-text\">\n              <Link to=\"/\" className=\"footer__nav-link\">Home</Link>\n            </li>\n            <li className=\"footer__nav-text\">\n              <a href=\"https://practicum.yandex.com/web/\" target=\"_blank\" rel=\"noreferrer\" className=\"footer__nav-link\">Practicum by Yandex</a>\n            </li>\n          </ul>\n        </li>\n        <li className=\"footer__nav-icon-wrapper\">\n          <ul className=\"footer__nav-icon-list\">\n            <li className=\"footer__nav-icon\">\n              <a href=\"https://github.com/mariawright05\" rel=\"noreferrer\" target=\"_blank\" className=\"footer__nav-link\">\n                <FaGithub />\n              </a>\n            </li>\n            <li className=\"footer__nav-icon\">\n              <a href=\"https://www.linkedin.com/in/mariawright05/\" rel=\"noreferrer\" target=\"_blank\" className=\"footer__nav-link\">\n                <FaLinkedin />\n              </a>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Footer;\n","/* eslint-disable no-nested-ternary */\nimport React, { useContext, useState } from 'react';\nimport PageContext from '../../context/page/PageContext';\nimport NewsContext from '../../context/news/newsContext';\nimport AuthContext from '../../context/auth/authContext';\nimport './Card.css';\n\nconst Card = ({ card }) => {\n  const {\n    _id,\n    url,\n    urlToImage,\n    publishedAt,\n    title,\n    description,\n    source,\n    keyword,\n  } = card;\n\n  const page = useContext(PageContext);\n  const newsContext = useContext(NewsContext);\n  const authContext = useContext(AuthContext);\n\n  const { handleUpdateSave } = newsContext;\n  const { isAuth, handleRegisterOpen } = authContext;\n\n  const token = localStorage.getItem('jwt');\n\n  const [iconHoverShown, setIconHoverShown] = useState(false);\n\n  const handleDeleteClick = () => {\n    handleUpdateSave(card, token);\n  };\n\n  const convertDateFormat = (p) => {\n    const pubdate = new Date(p).toLocaleDateString('en-US', {\n      month: 'long',\n      day: 'numeric',\n      year: 'numeric',\n    });\n    return pubdate;\n  };\n\n  const cardButtonType = `${\n    page === 'saved-news'\n      ? 'card__icon_trash'\n      : _id\n        ? 'card__icon_save_true'\n        : 'card__icon_save'\n  }`;\n\n  let iconHoverMessage;\n\n  if (page === 'saved-news') {\n    iconHoverMessage = 'Remove from saved';\n  } else if (!isAuth) {\n    iconHoverMessage = 'Sign in to save articles';\n  }\n\n  const handleSaveClick = () => {\n    if (isAuth) {\n      handleUpdateSave(card, token);\n    } else {\n      handleRegisterOpen();\n    }\n  };\n\n  const handleSaveHover = () => {\n    if (!(iconHoverMessage === undefined)) {\n      setIconHoverShown(true);\n    }\n  };\n\n  return (\n    <li className=\"card\">\n      <img className=\"card__image\" src={urlToImage} alt={title} />\n      <button\n        type=\"button\"\n        className={cardButtonType}\n        onClick={page === 'saved-news' ? handleDeleteClick : handleSaveClick}\n        onMouseEnter={handleSaveHover}\n        onMouseLeave={() => { setIconHoverShown(false); }}\n        aria-label=\"card action\"\n      />\n      {iconHoverShown && (\n        <div className=\"card__hover-wrapper\">\n          <p className=\"card__hover-text\">{ iconHoverMessage }</p>\n        </div>\n      )}\n      {page === 'saved-news' && (\n        <div className=\"card__keyword-wrapper\">\n          <p className=\"card__keyword-text\">{keyword}</p>\n        </div>\n      )}\n      <a href={url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"card__text-wrapper\">\n        <p className=\"card__pubDate\">{convertDateFormat(publishedAt)}</p>\n        <h3 className=\"card__title\">{title}</h3>\n        <p className=\"card__description\">{description}</p>\n        <p className=\"card__source\">{page === 'saved-news' ? source : source.name}</p>\n      </a>\n    </li>\n  );\n};\n\nexport default Card;\n","export const SEARCHED_NEWS = 'SEARCHED_NEWS';\nexport const SET_SAVED = 'SET_SAVED';\nexport const SET_LOADING = 'SET_LOADING';\nexport const SEARCH_ERROR = 'SEARCH_ERROR';\nexport const NOT_FOUND = 'NOT_FOUND';\nexport const SET_QUERY = 'SET_QUERY';\nexport const SET_NOT_SAVED = 'SET_NOT_SAVED';\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\nexport const USER_LOADED = 'USER_LOADED';\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport const LOGOUT = 'LOGOUT';\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\nexport const SAVED_CARDS = 'SAVED_CARDS';\nexport const CLEAR_NEWS = 'CLEAR_NEWS';\n","/* eslint-disable arrow-body-style */\n/* eslint-disable no-param-reassign */\nimport { slice } from 'lodash';\nimport {\n  SEARCHED_NEWS,\n  SET_LOADING,\n  SET_SAVED,\n  SET_NOT_SAVED,\n  SEARCH_ERROR,\n  NOT_FOUND,\n  SET_QUERY,\n  SAVED_CARDS,\n  CLEAR_NEWS,\n} from '../types';\nimport { LIMIT } from '../../utils/configData.json';\n\nexport default (state, action) => {\n  switch (action.type) {\n    case SEARCHED_NEWS:\n      localStorage.setItem('searchedNews', JSON.stringify(action.payload));\n      return {\n        ...state,\n        cards: action.payload,\n        // Initial number of cards in list to show\n        visibleList: slice(action.payload, 0, LIMIT),\n        loading: false,\n      };\n    case SET_LOADING:\n      return {\n        ...state,\n        loading: true,\n        searchError: false,\n        notFound: false,\n      };\n    case SEARCH_ERROR:\n      return {\n        ...state,\n        searchError: true,\n      };\n    case NOT_FOUND:\n      return {\n        ...state,\n        notFound: true,\n      };\n    case SET_SAVED:\n      return {\n        ...state,\n        cards: state.cards.map((card) => {\n          if (card.url === action.payload.url) {\n            card._id = action.payload._id;\n          }\n          return card;\n        }),\n      };\n    case SET_NOT_SAVED:\n      return {\n        ...state,\n        cards: state.cards.map((card) => {\n          if (card.url === action.payload) {\n            card._id = null;\n          }\n          return card;\n        }),\n        // eslint-disable-next-line arrow-parens\n        savedCards: state.savedCards.filter(card => card._id !== action.payload._id),\n      };\n    case SET_QUERY:\n      localStorage.setItem('searchTerm', action.payload);\n      return {\n        ...state,\n        query: action.payload.charAt(0).toUpperCase() + action.payload.slice(1),\n      };\n    case SAVED_CARDS:\n      return {\n        ...state,\n        savedCards: action.payload.map((card) => {\n          if (card) {\n            const newCard = {};\n            newCard._id = card._id;\n            newCard.url = card.url;\n            newCard.title = card.title;\n            newCard.description = card.text;\n            newCard.publishedAt = card.date;\n            newCard.source = card.source;\n            newCard.urlToImage = card.image;\n            newCard.keyword = card.keyword;\n            card = newCard;\n          }\n          return card;\n        }),\n      };\n    case CLEAR_NEWS:\n      return {\n        ...state,\n        cards: [],\n      };\n    default:\n      return state;\n  }\n};\n","/* eslint-disable arrow-body-style */\n/* eslint-disable arrow-parens */\nimport { SEARCH_URL, API_KEY, AUTH_URL } from '../../utils/configData.json';\n\n// Search the news API for articles with searchterm in last 7 days\nexport const searchNews = async (searchTerm) => {\n  const today = new Date();\n  const lastWeek = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);\n  // Formats date for API request parameter requirements\n  const ISOToday = today.toISOString();\n  const ISOLastWeek = lastWeek.toISOString();\n\n  const res = await fetch(`${SEARCH_URL}?q=${searchTerm}&apiKey=${API_KEY}&from=${ISOLastWeek}&to=${ISOToday}&pageSize=${100}&sortBy=publishedAt&language=en`);\n  const data = await (res.ok\n    ? res.json()\n    : res.json().then((err) => { throw new Error(err); }));\n  return data;\n};\n\n// Add or delete card from user's saved articles\nexport const updateSave = async (method, id, body, token) => {\n  const res = await fetch(`${AUTH_URL}/articles/${id}`, {\n    method,\n    headers: {\n      'Content-Type': 'application/json',\n      'x-auth-token': `${token}`,\n    },\n    body,\n  });\n  return (res.ok\n    ? res.json()\n    : res.json().then((err) => { throw new Error(err); }));\n};\n\n// Retrieve a user's saved cards\nexport const getSavedCards = async (token) => {\n  const res = await fetch(`${AUTH_URL}/articles`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'x-auth-token': `${token}`,\n    },\n  });\n  return (res.ok\n    ? res.json()\n    : res.json().then((err) => { throw new Error(err); }));\n};\n","/* eslint-disable consistent-return */\n/* eslint-disable arrow-body-style */\nimport React, {\n  useEffect,\n  useContext,\n  useReducer,\n  useState,\n} from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { slice, concat } from 'lodash';\nimport Card from '../../components/Card/Card';\nimport NewsContext from './newsContext';\nimport NewsReducer from './newsReducer';\nimport AuthContext from '../auth/authContext';\nimport {\n  SEARCHED_NEWS,\n  SET_LOADING,\n  NOT_FOUND,\n  SET_SAVED,\n  SET_NOT_SAVED,\n  SEARCH_ERROR,\n  SET_QUERY,\n  SAVED_CARDS,\n  CLEAR_NEWS,\n} from '../types';\nimport {\n  searchNews,\n  getSavedCards,\n  updateSave,\n} from './NewsApi';\nimport { ARRAY_LENGTH, LIMIT } from '../../utils/configData.json';\n\nconst NewsState = (props) => {\n  const initialState = {\n    cards: [],\n    card: {},\n    loading: false,\n    visibleList: [],\n    searchError: false,\n    notFound: false,\n    savedCards: [],\n    query: '',\n  };\n\n  const [state, dispatch] = useReducer(NewsReducer, initialState);\n\n  const authState = useContext(AuthContext);\n  const { isAuth } = authState;\n\n  // Set Loading\n  const setLoading = () => {\n    dispatch({ type: SET_LOADING });\n  };\n\n  // NEWS SEARCHING\n  // Determines if there are any more cards to show up to ARRAY_LENGTH\n  const [showMore, setShowMore] = useState(true);\n  // Group of cards shown after each Show More button click\n  const [list, setList] = useState([]);\n  // Count of cards to show up to ARRAY_LENGTH\n  const [index, setIndex] = useState(LIMIT);\n\n  // Function to show initial cards, number determined by LIMIT\n  const showVisibleList = () => {\n    setList(state.visibleList);\n  };\n\n  // Load More button functionality\n  const loadMore = () => {\n    const newIndex = index + LIMIT;\n    const newShowMore = newIndex < (Math.min(ARRAY_LENGTH - 1, state.cards.length));\n    const newList = concat(list, slice(state.cards, index, newIndex));\n    setIndex(newIndex);\n    setList(newList);\n    setShowMore(newShowMore);\n  };\n\n  // Resets initial cards with every search\n  useEffect(() => {\n    showVisibleList();\n  }, [state.visibleList]);\n\n  // Check on page load to see if cards have been set from localStorage\n  useEffect(() => {\n    if (state.cards.length !== 0) {\n      loadMore();\n    }\n  }, []);\n\n  const searchedList = (\n    <>\n      {state.cards.length !== 0 && <h2 className=\"cardList__title\">Search results</h2>}\n      <ul className=\"cardList__card-wrapper\">\n        {list.map((card) => {\n          return <Card key={uuidv4()} card={card} />;\n        })}\n      </ul>\n      {showMore && <button type=\"submit\" className=\"cardList__button\" onClick={loadMore}>Show more</button>}\n    </>\n  );\n\n  // Fetch news from NewsAPI\n  const handleSearchNews = async (searchTerm) => {\n    setLoading();\n    try {\n      const res = await searchNews(searchTerm);\n      state.cards = [];\n      dispatch({\n        type: SEARCHED_NEWS,\n        payload: res.articles,\n      });\n      if (res.articles.length !== 0) {\n        return searchedList;\n      // eslint-disable-next-line no-else-return\n      } else {\n        dispatch({ type: NOT_FOUND });\n        return [];\n      }\n    } catch (err) {\n      dispatch({ type: SEARCH_ERROR, payload: err.toString() });\n    }\n  };\n\n  // SAVED NEWS\n  // Displays cards on the saved page\n  const savedList = (\n    <>\n      <ul className=\"cardList__card-wrapper\">\n        {state.savedCards.map((card) => {\n          return <Card key={uuidv4()} card={card} />;\n        })}\n      </ul>\n    </>\n  );\n\n  // Updates saved card list\n  const handleSavedCards = async (token) => {\n    try {\n      const res = await getSavedCards(token);\n      dispatch({\n        type: SAVED_CARDS,\n        payload: res,\n      });\n      if (res.length !== 0) {\n        return savedList;\n      }\n      return null;\n    } catch (err) {\n      dispatch({ type: SEARCH_ERROR, payload: err.toString() });\n    }\n  };\n\n  // Set current query term to assign to keyword\n  const setQuery = (query) => {\n    dispatch({\n      type: SET_QUERY,\n      payload: query,\n    });\n  };\n\n  // Sets if card has id (is saved) and assigns keyword\n  const handleUpdateSave = async (card, token) => {\n    const method = card._id ? 'DELETE' : 'POST';\n    const id = card._id || '';\n    const body = JSON.stringify({\n      keyword: state.query || '',\n      title: card.title,\n      text: card.description,\n      date: card.publishedAt,\n      source: card.source.name,\n      url: card.url,\n      image: card.urlToImage,\n    });\n    try {\n      const res = await updateSave(method, id, body, token);\n      if (method === 'POST') {\n        dispatch({\n          type: SET_SAVED,\n          payload: res,\n        });\n        localStorage.setItem('searchedNews', JSON.stringify(state.cards));\n      } else {\n        dispatch({\n          type: SET_NOT_SAVED,\n          payload: card.url,\n        });\n        localStorage.setItem('searchedNews', JSON.stringify(state.cards));\n        handleSavedCards(token);\n      }\n    } catch (err) {\n      dispatch({ type: SEARCH_ERROR, payload: err.toString() });\n    }\n  };\n\n  // Check to see if there are searched cards and query in localStorage\n  // and return if user is logged in\n  const searchedNews = JSON.parse(localStorage.getItem('searchedNews'));\n  const searchTerm = localStorage.getItem('searchTerm');\n\n  useEffect(() => {\n    if (searchedNews && isAuth) {\n      setLoading();\n      dispatch({\n        type: SEARCHED_NEWS,\n        payload: searchedNews,\n      });\n      setQuery(searchTerm);\n    } else {\n      dispatch({ type: CLEAR_NEWS });\n    }\n  }, [isAuth]);\n\n  useEffect(() => {\n    return () => {\n      console.log('cleaned up');\n    };\n  }, []);\n\n  return (\n    <NewsContext.Provider\n      value={{\n        cards: state.cards,\n        loading: state.loading,\n        visibleList: state.visibleList,\n        searchError: state.searchError,\n        notFound: state.notFound,\n        keyword: state.keyword,\n        savedCards: state.savedCards,\n        query: state.query,\n        searchedList,\n        savedList,\n        setLoading,\n        handleUpdateSave,\n        handleSearchNews,\n        setQuery,\n        handleSavedCards,\n      }}\n    >\n      {props.children}\n    </NewsContext.Provider>\n  );\n};\n\nexport default NewsState;\n","/* eslint-disable import/no-anonymous-default-export */\nimport {\n  REGISTER_FAIL,\n  USER_LOADED,\n  LOGIN_SUCCESS,\n  LOGOUT,\n  CLEAR_ERRORS,\n  AUTH_ERROR,\n  LOGIN_FAIL,\n} from '../types';\n\nexport default (state, action) => {\n  switch (action.type) {\n    case USER_LOADED:\n      return {\n        ...state,\n        user: action.payload.res,\n        isAuth: true,\n        token: action.payload.token,\n      };\n    case LOGIN_SUCCESS:\n      localStorage.setItem('jwt', action.payload.token);\n      return {\n        ...state,\n        ...action.payload,\n        token: action.payload.token,\n      };\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n    case REGISTER_FAIL:\n      return {\n        ...state,\n        token: null,\n        user: {},\n        isAuth: false,\n        errorMsg: action.payload,\n      };\n    case CLEAR_ERRORS:\n      return {\n        ...state,\n        errorMsg: null,\n      };\n    case LOGOUT:\n      localStorage.removeItem('jwt');\n      localStorage.removeItem('searchTerm');\n      localStorage.removeItem('searchedNews');\n      return {\n        ...state,\n        token: null,\n        user: {},\n        isAuth: false,\n      };\n    default:\n      return state;\n  }\n};\n","/* eslint-disable quote-props */\n/* eslint-disable arrow-parens */\n/* eslint-disable arrow-body-style */\nimport { AUTH_URL } from '../../utils/configData.json';\n\nexport const loadUser = async (token) => {\n  const res = await fetch(`${AUTH_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'x-auth-token': `${token}`,\n    },\n  });\n  const data = await (res.ok\n    ? res.json()\n    : res.json().then(err => PromiseRejectionEvent.reject(err)));\n  return data;\n};\n\nexport const login = async ({ email, password }) => {\n  const res = await fetch(`${AUTH_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      email,\n      password,\n    }),\n  });\n  const data = await (res.ok\n    ? res.json()\n    : res.json().then((err) => { throw new Error(err); }));\n  return data;\n};\n\nexport const register = async ({ name, email, password }) => {\n  const res = await fetch(`${AUTH_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      name,\n      email,\n      password,\n    }),\n  });\n  const data = await (res.ok\n    ? res.json()\n    : res.json().then((err) => { throw new Error(err); }));\n  return data;\n};\n","/* eslint-disable quote-props */\n/* eslint-disable arrow-body-style */\n/* eslint-disable arrow-parens */\n/* eslint-disable no-unused-expressions */\nimport React, { useReducer, useState } from 'react';\nimport AuthContext from './authContext';\nimport AuthReducer from './authReducer';\nimport {\n  USER_LOADED,\n  AUTH_ERROR,\n  LOGIN_SUCCESS,\n  LOGOUT,\n  REGISTER_FAIL,\n  CLEAR_ERRORS,\n  LOGIN_FAIL,\n} from '../types';\nimport { loadUser, login, register } from './AuthApi';\n\nconst AuthState = (props) => {\n  const initialState = {\n    token: null,\n    isAuth: false,\n    errorMsg: null,\n    user: {},\n  };\n\n  // const history = useHistory();\n  const [state, dispatch] = useReducer(AuthReducer, initialState);\n\n  // Open/closed states for popups\n  const [isLoginOpen, setIsLoginOpen] = useState(false);\n  const [isRegisterOpen, setIsRegisterOpen] = useState(false);\n  const [isSuccessOpen, setIsSuccessOpen] = useState(false);\n\n  // Clear error message\n  const clearErrorMsg = () => dispatch({ type: CLEAR_ERRORS });\n\n  // Controls when popups are open or closed\n  const closeAllPopups = () => {\n    setIsLoginOpen(false);\n    setIsRegisterOpen(false);\n    setIsSuccessOpen(false);\n    clearErrorMsg();\n  };\n\n  const handleLoginOpen = () => {\n    setIsLoginOpen(true);\n  };\n\n  const handleRegisterOpen = () => {\n    setIsRegisterOpen(true);\n  };\n\n  const handleSuccessOpen = () => {\n    setIsSuccessOpen(true);\n  };\n\n  // Load user\n  const handleLoadUser = async () => {\n    const jwt = localStorage.getItem('jwt');\n    try {\n      const res = await loadUser(jwt);\n      const token = localStorage.getItem('jwt');\n      dispatch({\n        type: USER_LOADED,\n        payload: { res, token },\n      });\n      state.token = jwt;\n    } catch (err) {\n      dispatch({\n        type: AUTH_ERROR,\n        payload: err,\n      });\n    }\n  };\n\n  // Login\n  const handleLogin = async (formData) => {\n    try {\n      const res = await login(formData);\n      res?.token\n        ? dispatch({ type: LOGIN_SUCCESS, payload: res })\n        : dispatch({ type: LOGIN_FAIL, payload: res });\n      closeAllPopups();\n      await handleLoadUser();\n    } catch (err) {\n      dispatch({ type: LOGIN_FAIL, payload: err.toString() });\n    }\n  };\n\n  // Register\n  const handleRegister = async (formData) => {\n    try {\n      await register(formData);\n      closeAllPopups();\n      handleSuccessOpen();\n    } catch (err) {\n      dispatch({ type: REGISTER_FAIL, payload: err.toString() });\n    }\n    register(formData)\n      .then(() => {\n        closeAllPopups();\n        handleSuccessOpen();\n      })\n      .catch((err) => dispatch({ type: REGISTER_FAIL, payload: err.toString() }));\n  };\n\n  // Logout\n  const handleLogout = () => dispatch({ type: LOGOUT });\n\n  // Clear errors\n  const handleClearErrors = () => dispatch({ type: CLEAR_ERRORS });\n\n  return (\n    <AuthContext.Provider\n      value={{\n        token: state.token,\n        isAuth: state.isAuth,\n        errorMsg: state.errorMsg,\n        user: state.user,\n        handleLoadUser,\n        handleLogin,\n        handleRegister,\n        handleLogout,\n        handleSuccessOpen,\n        handleRegisterOpen,\n        handleLoginOpen,\n        handleClearErrors,\n        isLoginOpen,\n        isRegisterOpen,\n        isSuccessOpen,\n        closeAllPopups,\n      }}\n    >\n      {props.children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthState;\n","import React, { useContext, useEffect } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport AuthContext from '../context/auth/authContext';\n\nconst ProtectedRoute = ({ component: Component }) => {\n  const authContext = useContext(AuthContext);\n  const { handleLoginOpen } = authContext;\n\n  const token = localStorage.getItem('jwt');\n\n  useEffect(() => {\n    if (!token) {\n      handleLoginOpen();\n    }\n  }, []);\n\n  return (\n    <Route>\n      {() => {\n        if (token) {\n          return <Component />;\n        }\n        return <Redirect to=\"/\" />;\n      }}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport {\n  BrowserRouter as Router, Route, Switch, Redirect,\n} from 'react-router-dom';\nimport Main from '../Main/Main';\nimport SavedNews from '../SavedNews/SavedNews';\nimport Footer from '../Footer/Footer';\nimport NewsState from '../../context/news/NewsState';\nimport AuthState from '../../context/auth/AuthState';\nimport ProtectedRoute from '../../utils/ProtectedRoute';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <AuthState>\n        <NewsState>\n          <Router>\n            <>\n              <Switch>\n                <Route exact path=\"/\">\n                  <Main />\n                </Route>\n                <ProtectedRoute\n                  exact\n                  path=\"/saved-news\"\n                  component={SavedNews}\n                />\n                <Redirect to=\"/\" />\n              </Switch>\n              <Footer />\n            </>\n          </Router>\n        </NewsState>\n      </AuthState>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}